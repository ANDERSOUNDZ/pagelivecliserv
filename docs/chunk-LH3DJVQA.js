import{a as I}from"./chunk-WZ7EPWED.js";import{$ as F,A as Te,C as z,E as u,F as A,G as Q,H as ke,I as $,J as K,K as J,L as U,M as W,N as X,O as Y,P as De,Q as Ne,R as Re,S as Ve,T as qe,U as Z,V as je,W as ee,X as Be,Y as Pe,Z as L,_ as Ge,aa as Oe,ba as He,ca as ze,d as pe,da as Ae,ea as Qe,f as ue,fa as $e,g as fe,ga as Ke,h as ve,i as Se,j as he,k as _e,l as ge,m as Ce,n as xe,o as Ee,p as be,q as Me,r as ye,s as we,t as O,u as Ie,v as Le,w as y,x as H,y as Fe,z as w}from"./chunk-FAN4C7BV.js";import{g as se,h as de,i as b,j as M,l as oe}from"./chunk-PWGG5U5C.js";import"./chunk-AESYL7IM.js";import{$ as R,Ab as B,Db as _,Fb as P,Jb as te,Kb as ie,Lb as re,Mb as me,Nb as n,Pb as E,Sb as le,Ua as l,Va as f,ja as h,jb as p,ka as V,lb as c,ra as q,sa as j,ub as r,vb as i,wb as s,wc as G,xb as C,yb as x,yc as ce}from"./chunk-7UOYOB6U.js";var Je=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-servicios"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"]],template:function(o,m){o&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"router-outlet"),i()()()())},dependencies:[de]});let e=t;return e})();var ot=()=>[5,10,25,100];function nt(e,t){e&1&&(r(0,"th",21),n(1," ID "),i())}function at(e,t){if(e&1&&(r(0,"td",22),n(1),i()),e&2){let v=t.$implicit;l(),E(" ",v.id," ")}}function mt(e,t){e&1&&(r(0,"th",21),n(1," Nombre Servicio "),i())}function lt(e,t){if(e&1&&(r(0,"td",22),n(1),i()),e&2){let v=t.$implicit;l(),E(" ",v.nombreServicio,"")}}function ct(e,t){e&1&&(r(0,"th",21),n(1," Descripci\xF3n "),i())}function st(e,t){if(e&1&&(r(0,"td",22),n(1),i()),e&2){let v=t.$implicit;l(),E(" ",v.descripcion," ")}}function dt(e,t){e&1&&(r(0,"th",21),n(1," Estado "),i())}function pt(e,t){if(e&1&&(r(0,"td",22),n(1),i()),e&2){let v=t.$implicit;l(),E(" ",v.estado?"Activo":"Inactivo"," ")}}function ut(e,t){e&1&&(r(0,"th",21),n(1," Editar "),i())}function ft(e,t){if(e&1){let v=B();r(0,"td",22)(1,"button",23),_("click",function(){let o=q(v).$implicit,m=P();return j(m.actualizarServicio(o.id))}),r(2,"mat-icon"),n(3,"edit"),i()()()}}function vt(e,t){e&1&&(r(0,"th",21),n(1," Eliminar "),i())}function St(e,t){if(e&1){let v=B();r(0,"td",22)(1,"button",23),_("click",function(){let o=q(v).$implicit,m=P();return j(m.deleteServicio(o.id))}),r(2,"mat-icon"),n(3,"delete"),i()()()}}function ht(e,t){e&1&&s(0,"tr",24)}function _t(e,t){e&1&&s(0,"tr",25)}function gt(e,t){if(e&1&&(r(0,"tr",26)(1,"td",27),n(2),i()()),e&2){P();let v=me(11);l(2),E('No data matching the filter "',v.value,'"')}}var et=(()=>{let t=class t{constructor(a,o,m){this.servicioService=a,this.snackBar=o,this.route=m,this.displayedColumns=["id","nombreServicio","descripcion","estado","edit","delete"],this.listaServicio()}ngOnInit(){}listaServicio(){this.servicioService.listaServicios().subscribe({next:a=>{this.dataSource=new ye(a),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(a)}})}actualizarServicio(a){console.log(a),this.route.navigate(["/servicio/listaservicio/editarservicio",a])}deleteServicio(a){this.servicioService.eliminarServicio(a).subscribe({next:()=>{this.alertaMensaje("Registro eliminado","ok"),this.dataSource.data=this.dataSource.data.filter(o=>o.id!==a),this.dataSource.paginator.length!==this.dataSource.data.length&&(this.dataSource.paginator.length=this.dataSource.data.length)},error:o=>{o.status===500?this.alertaMensaje("No se puede eliminar este servicio pues mantiene servicios adjuntos","Error"):this.snackBar.open("Error al eliminar el servicio: "+o.message,"Cerrar",{duration:3e3})}})}alertaMensaje(a,o){this.snackBar.open(a,o),this.snackBar.open(a,o,{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}applyFilter(a){let o=a.target.value;this.dataSource.filter=o.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}};t.\u0275fac=function(o){return new(o||t)(f(I),f(L),f(b))},t.\u0275cmp=h({type:t,selectors:[["app-servicios-list"]],viewQuery:function(o,m){if(o&1&&(te(Z,7),te(ee,5)),o&2){let d;ie(d=re())&&(m.paginator=d.first),ie(d=re())&&(m.sort=d.first)}},decls:43,vars:5,consts:[["input",""],[1,"row"],[1,"col"],[1,"col-md-9"],["matInput","","appearance","outline",1,"example-full-width",3,"keyup"],["matInput","","placeholder",""],[1,"col","mb-3"],["mat-fab","","extended","","color","primary","routerLink","/servicio/listaservicio/crearservicio"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombreServicio"],["matColumnDef","descripcion"],["matColumnDef","estado"],["matColumnDef","edit"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,m){if(o&1){let d=B();r(0,"div",1)(1,"div",2)(2,"h2"),n(3,"Panel Servicios"),i(),s(4,"hr"),i()(),r(5,"div",1)(6,"div",3)(7,"mat-form-field",4),_("keyup",function(g){return q(d),j(m.applyFilter(g))}),r(8,"mat-label"),n(9,"Buscar servicio"),i(),s(10,"input",5,0),i()(),r(12,"div",6)(13,"button",7)(14,"mat-icon"),n(15,"add"),i(),n(16," Crear servicio: "),i()(),s(17,"hr"),i(),r(18,"div",1)(19,"div",2)(20,"table",8),C(21,9),p(22,nt,2,0,"th",10)(23,at,2,1,"td",11),x(),C(24,12),p(25,mt,2,0,"th",10)(26,lt,2,1,"td",11),x(),C(27,13),p(28,ct,2,0,"th",10)(29,st,2,1,"td",11),x(),C(30,14),p(31,dt,2,0,"th",10)(32,pt,2,1,"td",11),x(),C(33,15),p(34,ut,2,0,"th",10)(35,ft,4,0,"td",11),x(),C(36,16),p(37,vt,2,0,"th",10)(38,St,4,0,"td",11),x(),p(39,ht,1,0,"tr",17)(40,_t,1,0,"tr",18)(41,gt,3,1,"tr",19),i(),s(42,"mat-paginator",20),i()()}o&2&&(l(20),c("dataSource",m.dataSource),l(19),c("matHeaderRowDef",m.displayedColumns),l(),c("matRowDefColumns",m.displayedColumns),l(2),c("pageSizeOptions",le(4,ot)))},dependencies:[M,ue,ve,ge,Se,fe,Ce,he,_e,xe,Ee,be,w,y,F,ee,Be,Z,Ie,O,He],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();function Et(e,t){e&1&&(r(0,"mat-error"),n(1," Nombre del Servicio es requerido. "),i())}function bt(e,t){e&1&&(r(0,"mat-error"),n(1," El nombre debe tener al menos 10 caracteres. "),i())}function Mt(e,t){e&1&&(r(0,"mat-error"),n(1," El nombre debe tener maximo 30 caracteres. "),i())}function yt(e,t){e&1&&(r(0,"mat-error"),n(1," La descripci\xF3n es requerida. "),i())}function wt(e,t){e&1&&(r(0,"mat-error"),n(1," La descripci\xF3n debe tener al menos 10 caracteres. "),i())}function It(e,t){e&1&&(r(0,"mat-error"),n(1," La descripci\xF3n debe tener menos de 30 caracteres. "),i())}function Lt(e,t){e&1&&(r(0,"mat-error"),n(1," Estado es requerido. "),i())}var tt=(()=>{let t=class t{constructor(a,o,m){this.servicioService=a,this.snackBar=o,this.route=m,this.formularioServicio=new ke({nombreServicio:new $("",[u.required,u.minLength(10),u.maxLength(30)]),descripcionServicio:new $("",[u.required,u.minLength(10),u.maxLength(30)]),estado:new $("",[u.required])})}guardarServicio(){if(this.formularioServicio.invalid){this.alertaMensaje("Porfavor llenar el formulario.","Error");return}let a={nombreServicio:this.formularioServicio.value.nombreServicio,descripcion:this.formularioServicio.value.descripcionServicio,estado:this.formularioServicio.value.estado==="true"};this.servicioService.crearServicio(a).subscribe({next:o=>{this.alertaMensaje("Servicio creado.","OK"),this.formularioServicio.reset(),this.route.navigate(["/listaservicio"])},error:o=>{this.alertaMensaje("No se puede crear el servicio.","Error")}})}alertaMensaje(a,o){this.snackBar.open(a,o),this.snackBar.open(a,o,{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}};t.\u0275fac=function(o){return new(o||t)(f(I),f(L),f(b))},t.\u0275cmp=h({type:t,selectors:[["app-servicios-create"]],decls:52,vars:8,consts:[[1,"row"],[1,"col"],[3,"formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","nombreServicio","required","","minlength","10","maxlength","30"],["align","start"],[4,"ngIf"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","descripcionServicio","required","","minlength","10","maxlength","30"],["name","estadoServicio","formControlName","estado"],["value","true"],["value","false"],[1,"mt-3"],["mat-fab","","extended","","color","primary","routerLink","/listaservicio",1,"m-2"],["mat-fab","","extended","","color","warn",1,"m-2",3,"click"]],template:function(o,m){if(o&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),n(3,"Crear Servicio"),i()()(),s(4,"hr"),r(5,"form",2)(6,"div",0)(7,"div",1)(8,"mat-form-field",3)(9,"mat-label"),n(10,"Nombre del Servicio"),i(),s(11,"input",4),r(12,"mat-hint",5)(13,"strong"),n(14,"Ingresa el nombre del servicio."),i()(),p(15,Et,2,0,"mat-error",6)(16,bt,2,0,"mat-error",6)(17,Mt,2,0,"mat-error",6),i()(),r(18,"div",1)(19,"mat-form-field",7)(20,"mat-label"),n(21,"Descripci\xF3n"),i(),s(22,"input",8),r(23,"mat-hint",5)(24,"strong"),n(25,"Ingresa la descripcion del servicio."),i()(),p(26,yt,2,0,"mat-error",6)(27,wt,2,0,"mat-error",6)(28,It,2,0,"mat-error",6),i()(),r(29,"div",1)(30,"mat-form-field",3)(31,"mat-label"),n(32,"Estado"),i(),r(33,"mat-select",9)(34,"mat-option",10),n(35,"Activo"),i(),r(36,"mat-option",11),n(37,"Inactivo"),i()(),r(38,"mat-hint",5)(39,"strong"),n(40,"Elige el estado del servivio."),i()(),p(41,Lt,2,0,"mat-error",6),i()()(),s(42,"br")(43,"hr"),r(44,"div",0)(45,"div",1)(46,"section")(47,"div",12)(48,"button",13),n(49," Volver "),i(),r(50,"button",14),_("click",function(){return m.guardarServicio()}),n(51," Guardar "),i()()()()()()),o&2){let d,S,g,T,k,D,ae;l(5),c("formGroup",m.formularioServicio),l(10),c("ngIf",(d=m.formularioServicio.get("nombreServicio"))==null?null:d.hasError("required")),l(),c("ngIf",(S=m.formularioServicio.get("nombreServicio"))==null?null:S.hasError("minlength")),l(),c("ngIf",(g=m.formularioServicio.get("nombreServicio"))==null?null:g.hasError("maxlength")),l(9),c("ngIf",(T=m.formularioServicio.get("descripcionServicio"))==null?null:T.hasError("required")),l(),c("ngIf",(k=m.formularioServicio.get("descripcionServicio"))==null?null:k.hasError("minlength")),l(),c("ngIf",(D=m.formularioServicio.get("descripcionServicio"))==null?null:D.hasError("maxlength")),l(13),c("ngIf",(ae=m.formularioServicio.get("estado"))==null?null:ae.hasError("required"))}},dependencies:[G,M,w,y,Fe,H,F,O,K,z,A,Q,W,X,Y,J,U,Ve,pe],styles:[".example-button-row[_ngcontent-%COMP%]{display:table-cell;max-width:600px}"]});let e=t;return e})();function Ft(e,t){e&1&&(r(0,"mat-error"),n(1," Nombre del Servicio es requerido. "),i())}function Tt(e,t){e&1&&(r(0,"mat-error"),n(1," El nombre debe tener al menos 10 caracteres. "),i())}function kt(e,t){e&1&&(r(0,"mat-error"),n(1," El nombre debe tener maximo 30 caracteres. "),i())}function Dt(e,t){e&1&&(r(0,"mat-error"),n(1," La descripci\xF3n del servicio es requerido. "),i())}function Nt(e,t){e&1&&(r(0,"mat-error"),n(1," La descripci\xF3n debe tener al menos 10 caracteres. "),i())}function Rt(e,t){e&1&&(r(0,"mat-error"),n(1," La descripci\xF3n debe tener maximo 30 caracteres. "),i())}var it=(()=>{let t=class t{constructor(a,o,m,d,S){this.route=a,this.servicioService=o,this.fb=m,this.snackBar=d,this.router=S,this.editForm=this.fb.group({nombreServicio:["",[u.required,u.minLength(10),u.maxLength(30)]],descripcion:["",[u.required,u.minLength(10),u.maxLength(30)]],estado:[""]})}ngOnInit(){this.id=this.route.snapshot.params.id,this.servicioService.obtenerServicio(this.id).subscribe(a=>{this.servicio=a,this.editForm=this.fb.group({nombreServicio:[a.nombreServicio],descripcion:[a.descripcion],estado:[a.estado]})})}onSubmit(){if(this.editForm.valid){let a={nombreServicio:this.editForm.get("nombreServicio").value,descripcion:this.editForm.get("descripcion").value,estado:this.editForm.get("estado").value};this.servicioService.editarServicio(this.id,a).subscribe(()=>{this.alertaMensaje("Servicio actualizado.","OK"),this.router.navigate(["/listaservicio"])})}}alertaMensaje(a,o){this.snackBar.open(a,o),this.snackBar.open(a,o,{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}};t.\u0275fac=function(o){return new(o||t)(f(se),f(I),f(De),f(L),f(b))},t.\u0275cmp=h({type:t,selectors:[["app-servicios-edit"]],decls:33,vars:7,consts:[[1,"row"],[1,"col"],[3,"formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","nombreServicio","required","","minlength","10","maxlength","30"],[4,"ngIf"],["matInput","","type","text","type","text","formControlName","descripcion","required","","minlength","10","maxlength","30"],[1,"example-section"],["formControlName","estado",1,"example-margin"],["mat-flat-button","","color","primary","routerLink","/listaservicio",1,"m-2"],["mat-flat-button","","color","primary","type","submit",1,"m-2",3,"click"]],template:function(o,m){if(o&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),n(3,"Editar Servicio"),i()()(),s(4,"hr"),r(5,"form",2)(6,"div",0)(7,"div",1)(8,"mat-form-field",3)(9,"mat-label"),n(10,"Nombre del Servicio"),i(),s(11,"input",4),p(12,Ft,2,0,"mat-error",5)(13,Tt,2,0,"mat-error",5)(14,kt,2,0,"mat-error",5),i()(),r(15,"div",1)(16,"mat-form-field",3)(17,"mat-label"),n(18,"Descripcion"),i(),s(19,"input",6),p(20,Dt,2,0,"mat-error",5)(21,Nt,2,0,"mat-error",5)(22,Rt,2,0,"mat-error",5),i()(),r(23,"div",1)(24,"section",7)(25,"mat-checkbox",8),n(26," Activo "),i()()(),s(27,"hr"),r(28,"div",1)(29,"button",9),n(30," Volver "),i(),r(31,"button",10),_("click",function(){return m.onSubmit()}),n(32," Guardar "),i()()()()),o&2){let d,S,g,T,k,D;l(5),c("formGroup",m.editForm),l(7),c("ngIf",(d=m.editForm.get("nombreServicio"))==null?null:d.hasError("required")),l(),c("ngIf",(S=m.editForm.get("nombreServicio"))==null?null:S.hasError("minlength")),l(),c("ngIf",(g=m.editForm.get("nombreServicio"))==null?null:g.hasError("maxlength")),l(6),c("ngIf",(T=m.editForm.get("descripcion"))==null?null:T.hasError("required")),l(),c("ngIf",(k=m.editForm.get("descripcion"))==null?null:k.hasError("minlength")),l(),c("ngIf",(D=m.editForm.get("nombreServicio"))==null?null:D.hasError("maxlength"))}},dependencies:[G,M,w,y,H,F,we,K,z,A,Q,W,X,Y,J,U,Ae]});let e=t;return e})();var Vt=[{path:"listaservicio",component:Je,children:[{path:"",component:et},{path:"crearservicio",component:tt},{path:"editarservicio/:id",component:it}]},{path:"**",redirectTo:"listaservicio"}],rt=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=V({type:t}),t.\u0275inj=R({imports:[oe.forChild(Vt),oe]});let e=t;return e})();var Ii=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=V({type:t}),t.\u0275inj=R({imports:[ce,rt,Me,Te,Oe,Pe,je,$e,Le,Ge,Re,qe,Ke,Ne,ze,Qe]});let e=t;return e})();export{Ii as ServiciosModule};
